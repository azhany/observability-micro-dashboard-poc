# Test Design: Story 2.1 Base Dashboard Layout & Tenant View

Date: 2026-01-18
Designer: Quinn (Test Architect)

## Test Strategy Overview

- **Total test scenarios:** 14
- **Unit tests:** 5 (36%)
- **Integration tests:** 6 (43%)
- **E2E tests:** 3 (21%)
- **Priority distribution:** P0: 5, P1: 5, P2: 4

## Test Scenarios by Acceptance Criteria

### AC1: Vue 3 dashboard features a sidebar for navigation and a main content area for widgets.

| ID | Level | Priority | Test | Justification |
| :--- | :--- | :--- | :--- | :--- |
| **2.1-UNIT-001** | Unit | P1 | Sidebar navigation links exist | Validate navigation structure correctness. |
| **2.1-UNIT-002** | Unit | P2 | Sidebar responsive toggle | Ensure layout adapts to mobile/desktop. |
| **2.1-E2E-001** | E2E | P1 | User can navigate via sidebar | Critical user journey for dashboard access. |

### AC2: An "Overview" page displays a list of active agents and their last reported status.

| ID | Level | Priority | Test | Justification |
| :--- | :--- | :--- | :--- | :--- |
| **2.1-INT-001** | Integration | P0 | Overview page loads with agent list | Verifies controller-to-view data passing. |
| **2.1-INT-002** | Integration | P0 | Agent list dedupes correctly (PERF-001) | Mitigates PERF-001 risk; ensures distinct query works. |
| **2.1-UNIT-003** | Unit | P1 | Status badge color logic | Verifies UI logic for "Online" vs "Offline". |
| **2.1-E2E-002** | E2E | P1 | Overview page visual snapshot | Verifies layout and rendering with data. |

### AC3: A "Tenant Detail" page exists that accepts a tenant ID and prepares placeholders for metric charts.

| ID | Level | Priority | Test | Justification |
| :--- | :--- | :--- | :--- | :--- |
| **2.1-INT-003** | Integration | P0 | Tenant Detail accepts valid UUID | Verifies routing and parameter handling. |
| **2.1-INT-004** | Integration | P0 | Tenant Detail rejects invalid ID/Auth | Mitigates SEC-001 (IDOR) and TECH-001 (UUID). |
| **2.1-UNIT-004** | Unit | P2 | Chart placeholders rendering | Verifies empty state logic. |
| **2.1-E2E-003** | E2E | P1 | Navigate Overview to Detail | Critical path; ensures linking works. |

### AC4: UI is styled using Tailwind CSS with a consistent "Technical/NOC" aesthetic.

| ID | Level | Priority | Test | Justification |
| :--- | :--- | :--- | :--- | :--- |
| **2.1-UNIT-005** | Unit | P2 | Dark mode classes presence | Verifies theme implementation. |
| **2.1-INT-005** | Integration | P2 | Verify background color logic | Checks if layout wrapper applies correct bg. |
| **2.1-INT-006** | Integration | P3 | Font loading verification | Ensures Inter/JetBrains fonts load. |

## Risk Coverage

| Risk ID | Risk Title | Mitigating Test Scenarios |
| :--- | :--- | :--- |
| **PERF-001** | Slow Distinct Query | **2.1-INT-002** (Verify dedupe logic efficiency) |
| **SEC-001** | Tenant Data Isolation | **2.1-INT-004** (Access control checks) |
| **TECH-001** | Binary(16) Tenant ID | **2.1-INT-003** (UUID routing verification) |
| **BUS-001** | Ambiguous Status | **2.1-UNIT-003** (Badge logic) |
| **OPS-001** | Low Contrast | **2.1-E2E-002** (Visual snapshot - manual review trigger) |

## Recommended Execution Order

1.  **P0 Integration Tests:** 2.1-INT-001, 2.1-INT-002, 2.1-INT-003, 2.1-INT-004 (Core Data & Security)
2.  **P1 Unit Tests:** 2.1-UNIT-001, 2.1-UNIT-003 (Component Logic)
3.  **P1 E2E Tests:** 2.1-E2E-001, 2.1-E2E-003 (Critical Flows)
4.  **P2/P3 Tests:** Remaining UI/Style tests.
